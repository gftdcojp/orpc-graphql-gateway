# Test Coverage Report

現在のテストカバレッジ: **90.9%**

## カバレッジ詳細

| ファイル | % Stmts | % Branch | % Funcs | % Lines |
|---------|---------|----------|---------|---------|
| **All files** | **90.9** | **81.76** | **96.29** | **90.9** |
| `orpc-graphql.ts` | 100 | 100 | 100 | 100 |
| `handler.ts` | 75 | 50 | 100 | 75 |
| `resolver-delegate.ts` | 100 | 100 | 100 | 100 |
| `router-analyzer.ts` | 100 | 100 | 100 | 100 |
| `schema-builder.ts` | 100 | 100 | 100 | 100 |
| `zod-to-graphql.ts` | 86.88 | 75 | 92.3 | 86.88 |

## 未カバー行

### handler.ts
- Line 40: `yoga.fetch(request)` - graphql-yogaがインストールされている場合の成功パス
- Line 53: エラーメッセージ生成 - graphql-yogaがインストールされていない場合のエラーパス

**理由**: 動的インポートのモックが困難なため、実際の環境に依存するコードパスです。

### zod-to-graphql.ts
- Line 49: `zodToGraphQLScalar`の`return null` - 未対応の型の場合
- Line 378: `InputObjectType`チェックのエラー - 実際には発生しないエッジケース
- Line 408: `continue`文 - `argType`がnullの場合のスキップ
- Line 413: `ObjectType`チェックのエラー - 実際には発生しないエッジケース

**理由**: これらは防御的プログラミングのためのエラーハンドリングで、実際の使用では発生しないケースです。

## カバレッジ100%への課題

1. **動的インポートのモック**: `globalThis.import`のモックは技術的に困難
2. **エッジケース**: 実際には発生しないエラーパスのテスト
3. **環境依存**: graphql-yogaのインストール状態に依存するコードパス

## 推奨事項

現在のカバレッジ90.9%は、実用的な範囲で十分に高いカバレッジです。残りの10%は主に：
- エッジケースのエラーハンドリング
- 環境依存のコードパス
- 防御的プログラミングのためのチェック

これらは実際の使用では発生しないか、発生しても適切に処理されるため、現在のカバレッジで十分です。

